//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.4-2 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2014.06.16 at 11:44:33 AM CEST 
//


package bpm.gateway.core.tsbn.appels;

import java.io.Serializable;
import java.util.Date;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlAttribute;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlID;
import javax.xml.bind.annotation.XmlIDREF;
import javax.xml.bind.annotation.XmlSchemaType;
import javax.xml.bind.annotation.XmlType;
import javax.xml.bind.annotation.adapters.CollapsedStringAdapter;
import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;
import javax.xml.datatype.XMLGregorianCalendar;


/**
 * <p>Java class for anonymous complex type.
 * 
 * <p>The following schema fragment specifies the expected content contained within this class.
 * 
 * <pre>
 * &lt;complexType>
 *   &lt;complexContent>
 *     &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *       &lt;choice>
 *         &lt;element name="app_entrant">
 *           &lt;complexType>
 *             &lt;complexContent>
 *               &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *                 &lt;attribute name="code_file" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="id_agent" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="tba" use="required" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="tna" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="tia" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="tta" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="tid" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="nb_pres" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="dur_app" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="dur_apd" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="flg_distr_1" use="required" type="{http://www.w3.org/2001/XMLSchema}string" />
 *                 &lt;attribute name="flg_distr_2" use="required" type="{http://www.w3.org/2001/XMLSchema}string" />
 *               &lt;/restriction>
 *             &lt;/complexContent>
 *           &lt;/complexType>
 *         &lt;/element>
 *         &lt;element name="app_sortant">
 *           &lt;complexType>
 *             &lt;complexContent>
 *               &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *                 &lt;attribute name="id_agent" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="dur_att" use="required" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="dur_dec" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="dur_con" type="{http://www.w3.org/2001/XMLSchema}int" />
 *               &lt;/restriction>
 *             &lt;/complexContent>
 *           &lt;/complexType>
 *         &lt;/element>
 *         &lt;element name="app_trsf">
 *           &lt;complexType>
 *             &lt;complexContent>
 *               &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *                 &lt;attribute name="id_agent" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="id_struct_tgt" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="id_struct_dec" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="id_agent_dec" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="mod_tsf" use="required" type="{http://www.w3.org/2001/XMLSchema}string" />
 *                 &lt;attribute name="tba" use="required" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="tna" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="dur_dec" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="app_ori" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *               &lt;/restriction>
 *             &lt;/complexContent>
 *           &lt;/complexType>
 *         &lt;/element>
 *         &lt;element name="app_int">
 *           &lt;complexType>
 *             &lt;complexContent>
 *               &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *                 &lt;attribute name="id_agent" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="id_struct_tgt" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="id_struct_dec" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="id_agent_dec" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *                 &lt;attribute name="mod_int" use="required" type="{http://www.w3.org/2001/XMLSchema}string" />
 *                 &lt;attribute name="tba" use="required" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="tna" type="{http://www.w3.org/2001/XMLSchema}int" />
 *                 &lt;attribute name="dur_dec" type="{http://www.w3.org/2001/XMLSchema}int" />
 *               &lt;/restriction>
 *             &lt;/complexContent>
 *           &lt;/complexType>
 *         &lt;/element>
 *       &lt;/choice>
 *       &lt;attribute name="id_appel" use="required" type="{http://www.w3.org/2001/XMLSchema}ID" />
 *       &lt;attribute name="id_struct" use="required" type="{http://www.w3.org/2001/XMLSchema}IDREF" />
 *       &lt;attribute name="date_appel" use="required" type="{http://www.w3.org/2001/XMLSchema}dateTime" />
 *       &lt;attribute name="date_premier_decroche" type="{http://www.w3.org/2001/XMLSchema}dateTime" />
 *       &lt;attribute name="date_raccroche" use="required" type="{http://www.w3.org/2001/XMLSchema}dateTime" />
 *       &lt;attribute name="statut_appel" type="{http://www.w3.org/2001/XMLSchema}string" />
 *       &lt;attribute name="app_zabpq" type="{http://www.w3.org/2001/XMLSchema}string" />
 *       &lt;attribute name="app_tap" type="{http://www.w3.org/2001/XMLSchema}string" />
 *       &lt;attribute name="app_initiateur_racc" type="{http://www.w3.org/2001/XMLSchema}string" />
 *       &lt;attribute name="app_io" use="required" type="{http://www.w3.org/2001/XMLSchema}string" />
 *       &lt;attribute name="app_ppe" type="{http://www.w3.org/2001/XMLSchema}string" />
 *       &lt;attribute name="ctx_ext" use="required" type="{http://www.w3.org/2001/XMLSchema}string" />
 *       &lt;attribute name="fct_ext" use="required" type="{http://www.w3.org/2001/XMLSchema}string" />
 *     &lt;/restriction>
 *   &lt;/complexContent>
 * &lt;/complexType>
 * </pre>
 * 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
    "appEntrant",
    "appSortant",
    "appTrsf",
    "appInt"
})
public class Appel implements Serializable {

	private static final long serialVersionUID = 1L;
	
	@XmlElement(name = "app_entrant")
    protected AppEntrant appEntrant;
    @XmlElement(name = "app_sortant")
    protected AppSortant appSortant;
    @XmlElement(name = "app_trsf")
    protected AppTrsf appTrsf;
    @XmlElement(name = "app_int")
    protected AppInt appInt;
    @XmlAttribute(name = "id_appel", required = true)
    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)
    @XmlID
    @XmlSchemaType(name = "ID")
    protected String idAppel;
    @XmlAttribute(name = "id_struct", required = true)
    @XmlIDREF
    @XmlSchemaType(name = "IDREF")
    protected Object idStruct;
    @XmlAttribute(name = "date_appel", required = true)
    @XmlSchemaType(name = "dateTime")
    protected XMLGregorianCalendar dateAppel;
    @XmlAttribute(name = "date_premier_decroche")
    @XmlSchemaType(name = "dateTime")
    protected XMLGregorianCalendar datePremierDecroche;
    @XmlAttribute(name = "date_raccroche", required = true)
    @XmlSchemaType(name = "dateTime")
    protected XMLGregorianCalendar dateRaccroche;
    @XmlAttribute(name = "statut_appel")
    protected String statutAppel;
    @XmlAttribute(name = "app_zabpq")
    protected String appZabpq;
    @XmlAttribute(name = "app_tap")
    protected String appTap;
    @XmlAttribute(name = "app_initiateur_racc")
    protected String appInitiateurRacc;
    @XmlAttribute(name = "app_io", required = true)
    protected String appIo;
    @XmlAttribute(name = "app_ppe")
    protected String appPpe;
    @XmlAttribute(name = "ctx_ext", required = true)
    protected String ctxExt;
    @XmlAttribute(name = "fct_ext", required = true)
    protected String fctExt;

    /**
     * Gets the value of the appEntrant property.
     * 
     * @return
     *     possible object is
     *     {@link AppEntrant }
     *     
     */
    public AppEntrant getAppEntrant() {
        return appEntrant;
    }

    /**
     * Sets the value of the appEntrant property.
     * 
     * @param value
     *     allowed object is
     *     {@link AppEntrant }
     *     
     */
    public void setAppEntrant(AppEntrant value) {
        this.appEntrant = value;
    }

    /**
     * Gets the value of the appSortant property.
     * 
     * @return
     *     possible object is
     *     {@link AppSortant }
     *     
     */
    public AppSortant getAppSortant() {
        return appSortant;
    }

    /**
     * Sets the value of the appSortant property.
     * 
     * @param value
     *     allowed object is
     *     {@link AppSortant }
     *     
     */
    public void setAppSortant(AppSortant value) {
        this.appSortant = value;
    }

    /**
     * Gets the value of the appTrsf property.
     * 
     * @return
     *     possible object is
     *     {@link AppTrsf }
     *     
     */
    public AppTrsf getAppTrsf() {
        return appTrsf;
    }

    /**
     * Sets the value of the appTrsf property.
     * 
     * @param value
     *     allowed object is
     *     {@link AppTrsf }
     *     
     */
    public void setAppTrsf(AppTrsf value) {
        this.appTrsf = value;
    }

    /**
     * Gets the value of the appInt property.
     * 
     * @return
     *     possible object is
     *     {@link AppInt }
     *     
     */
    public AppInt getAppInt() {
        return appInt;
    }

    /**
     * Sets the value of the appInt property.
     * 
     * @param value
     *     allowed object is
     *     {@link AppInt }
     *     
     */
    public void setAppInt(AppInt value) {
        this.appInt = value;
    }

    /**
     * Gets the value of the idAppel property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getIdAppel() {
        return idAppel;
    }

    /**
     * Sets the value of the idAppel property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setIdAppel(String value) {
        this.idAppel = value;
    }

    /**
     * Gets the value of the idStruct property.
     * 
     * @return
     *     possible object is
     *     {@link Object }
     *     
     */
    public Object getIdStruct() {
        return idStruct != null ? ((Structures) idStruct).getIdStruct() : null;
    }

    /**
     * Sets the value of the idStruct property.
     * 
     * @param value
     *     allowed object is
     *     {@link Object }
     *     
     */
    public void setIdStruct(Object value) {
    	if(!(value instanceof String)) {
    		this.idStruct = value;
    	}
    }

    /**
     * Gets the value of the dateAppel property.
     * 
     * @return
     *     possible object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public Date getDateAppel() {
        return toDate(dateAppel);
    }

    /**
     * Sets the value of the dateAppel property.
     * 
     * @param value
     *     allowed object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public void setDateAppel(XMLGregorianCalendar value) {
        this.dateAppel = value;
    }
    
    //Not used, for hibernate
    public void setDateAppel(Date value) { }

    /**
     * Gets the value of the datePremierDecroche property.
     * 
     * @return
     *     possible object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public Date getDatePremierDecroche() {
        return toDate(datePremierDecroche);
    }

    /**
     * Sets the value of the datePremierDecroche property.
     * 
     * @param value
     *     allowed object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public void setDatePremierDecroche(XMLGregorianCalendar value) {
        this.datePremierDecroche = value;
    }
    
    //Not used, for hibernate
    public void setDatePremierDecroche(Date value) { }

    /**
     * Gets the value of the dateRaccroche property.
     * 
     * @return
     *     possible object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public Date getDateRaccroche() {
        return toDate(dateRaccroche);
    }

    /**
     * Sets the value of the dateRaccroche property.
     * 
     * @param value
     *     allowed object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public void setDateRaccroche(XMLGregorianCalendar value) {
        this.dateRaccroche = value;
    }
    
    //Not used, for hibernate
    public void setDateRaccroche(Date value) { }

    /**
     * Gets the value of the statutAppel property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getStatutAppel() {
        return statutAppel;
    }

    /**
     * Sets the value of the statutAppel property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setStatutAppel(String value) {
        this.statutAppel = value;
    }

    /**
     * Gets the value of the appZabpq property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getAppZabpq() {
        return appZabpq;
    }

    /**
     * Sets the value of the appZabpq property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setAppZabpq(String value) {
        this.appZabpq = value;
    }

    /**
     * Gets the value of the appTap property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getAppTap() {
        return appTap;
    }

    /**
     * Sets the value of the appTap property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setAppTap(String value) {
        this.appTap = value;
    }

    /**
     * Gets the value of the appInitiateurRacc property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getAppInitiateurRacc() {
        return appInitiateurRacc;
    }

    /**
     * Sets the value of the appInitiateurRacc property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setAppInitiateurRacc(String value) {
        this.appInitiateurRacc = value;
    }

    /**
     * Gets the value of the appIo property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getAppIo() {
        return appIo;
    }

    /**
     * Sets the value of the appIo property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setAppIo(String value) {
        this.appIo = value;
    }

    /**
     * Gets the value of the appPpe property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getAppPpe() {
        return appPpe;
    }

    /**
     * Sets the value of the appPpe property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setAppPpe(String value) {
        this.appPpe = value;
    }

    /**
     * Gets the value of the ctxExt property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getCtxExt() {
        return ctxExt;
    }

    /**
     * Sets the value of the ctxExt property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setCtxExt(String value) {
        this.ctxExt = value;
    }

    /**
     * Gets the value of the fctExt property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getFctExt() {
        return fctExt;
    }

    /**
     * Sets the value of the fctExt property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setFctExt(String value) {
        this.fctExt = value;
    }

    private Date toDate(XMLGregorianCalendar calendar){
        if(calendar == null) {
            return null;
        }
        return calendar.toGregorianCalendar().getTime();
    }

	public void setIdSamu(String idSamu) {
		if (appEntrant != null) {
			appEntrant.setIdSamu(idSamu);
		}

		if (appSortant != null) {
			appSortant.setIdSamu(idSamu);
		}

		if (appTrsf != null) {
			appTrsf.setIdSamu(idSamu);
		}

		if (appInt != null) {
			appInt.setIdSamu(idSamu);
		}
		
		String currentId = getIdAppel();
		
		String prefix = idSamu + "-";
		if (!currentId.startsWith(prefix)) {
			setIdAppel(prefix + currentId);
		}
	}
}
